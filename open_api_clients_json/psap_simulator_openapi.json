{"openapi":"3.0.1","info":{"title":"psap-simulator","version":"v1"},"servers":[{"url":"https://simulation-psap.dev.commandcentral.com","description":"Dev Environment"},{"url":"https://simulation-psap.qa.commandcentral.com","description":"QA Environment"},{"url":"https://simulation-psap.stage.commandcentral.com","description":"Stage Environment"}],"paths":{"/sim/sip":{"post":{"tags":["psap-net-conference-rest-controller"],"operationId":"onIncomingSipMessage","requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/control/scenarios/websms":{"get":{"tags":["psap-scenario-rest-controller"],"operationId":"onWebSmsGetRequestReceived","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WebSmsScenarioModel"}}}}}}},"post":{"tags":["psap-scenario-rest-controller"],"operationId":"onWebSmsPostRequestReceived","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebSmsScenarioModel"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WebSmsScenarioModel"}}}}}}},"/control/scenarios/websms/{scenarioId}/stop":{"post":{"tags":["psap-scenario-rest-controller"],"operationId":"onWebSmsStopRequestReceived","parameters":[{"name":"scenarioId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/control/scenarios/websms/{scenarioId}/start":{"post":{"tags":["psap-scenario-rest-controller"],"operationId":"onWebSmsStartRequestReceived","parameters":[{"name":"scenarioId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/control/scenarios/conference":{"get":{"tags":["psap-scenario-rest-controller"],"operationId":"onConferenceGetRequestReceived","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NetConferenceScenarioModel"}}}}}}},"post":{"tags":["psap-scenario-rest-controller"],"operationId":"onConferencePostRequestReceived","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NetConferenceScenarioModel"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NetConferenceScenarioModel"}}}}}}},"/control/scenarios/conference/{scenarioId}/stop":{"post":{"tags":["psap-scenario-rest-controller"],"operationId":"onConferenceStopScenario","parameters":[{"name":"scenarioId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/control/scenarios/conference/{scenarioId}/start":{"post":{"tags":["psap-scenario-rest-controller"],"operationId":"onConferenceStartScenario","parameters":[{"name":"scenarioId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/control/call-handling/v2/subscription":{"get":{"tags":["call-handling-rest-controller"],"operationId":"getAllSubscriptions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAllSubscriptionsResponse"}}}}}},"post":{"tags":["call-handling-rest-controller"],"operationId":"subscribeToConference","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSubscriptionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CreateSubscriptionResponse"}}}}}}},"/control/call-handling/v2/call/{callId}/reinvite":{"post":{"tags":["call-handling-rest-controller"],"operationId":"reinvite","parameters":[{"name":"callId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/control/call-handling/v2/call/{callId}/refer":{"post":{"tags":["call-handling-rest-controller"],"operationId":"addParticipant","parameters":[{"name":"callId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddParticipantRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["call-handling-rest-controller"],"operationId":"removeParticipant","parameters":[{"name":"callId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RemoveParticipantRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/control/call-handling/v2/call/{callId}/redirect":{"post":{"tags":["call-handling-rest-controller"],"operationId":"redirect","parameters":[{"name":"callId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RedirectCallRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/control/call-handling/v2/call/{callId}/pick-up":{"post":{"tags":["call-handling-rest-controller"],"operationId":"pickupCall","parameters":[{"name":"callId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/control/call-handling/v2/call/{callId}/end":{"post":{"tags":["call-handling-rest-controller"],"operationId":"endCall","parameters":[{"name":"callId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/control/call-handling-profiles/v2":{"get":{"tags":["call-handling-profile-rest-controller"],"operationId":"getAllCallHandlingProfiles","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CallHandlingProfile"}}}}}}},"post":{"tags":["call-handling-profile-rest-controller"],"operationId":"createCallHandlingProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CallHandlingProfile"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CallHandlingProfile"}}}}}},"delete":{"tags":["call-handling-profile-rest-controller"],"operationId":"deleteAllCallHandlingProfiles","responses":{"200":{"description":"OK"}}}},"/control/call-generation/v1/send-options":{"post":{"tags":["call-generation-rest-controller"],"operationId":"sendOptions","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendOptionsRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SendOptionsResponse"}}}}}}},"/control/call-handling/v2/subscription/{subscriptionId}":{"get":{"tags":["call-handling-rest-controller"],"operationId":"getSubscriptionWithId","parameters":[{"name":"subscriptionId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetSubscriptionResponse"}}}}}},"delete":{"tags":["call-handling-rest-controller"],"operationId":"terminateSubscription","parameters":[{"name":"subscriptionId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}},"patch":{"tags":["call-handling-rest-controller"],"operationId":"updateSubscription","parameters":[{"name":"subscriptionId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSubscriptionRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/control/call-handling-profiles/v2/{sipEndpointId}":{"get":{"tags":["call-handling-profile-rest-controller"],"operationId":"getCallHandlingProfile","parameters":[{"name":"sipEndpointId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CallHandlingProfile"}}}}}},"delete":{"tags":["call-handling-profile-rest-controller"],"operationId":"deleteCallHandlingProfile","parameters":[{"name":"sipEndpointId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}},"patch":{"tags":["call-handling-profile-rest-controller"],"operationId":"updateCallHandlingProfile","parameters":[{"name":"sipEndpointId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CallHandlingProfile"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CallHandlingProfile"}}}}}}},"/control/scenarios":{"get":{"tags":["psap-scenario-rest-controller"],"operationId":"onScenariosGetRequestReceived","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ScenarioModel"}}}}}}}},"/control/scenarios/websms/{scenarioId}":{"get":{"tags":["psap-scenario-rest-controller"],"operationId":"onWebSmsGetWithIdRequestReceived","parameters":[{"name":"scenarioId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WebSmsScenarioModel"}}}}}}},"/control/scenarios/conference/{scenarioId}":{"get":{"tags":["psap-scenario-rest-controller"],"operationId":"onConferenceGetWithIdRequestReceived","parameters":[{"name":"scenarioId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NetConferenceScenarioModel"}}}}}}},"/control/logs/v1":{"get":{"tags":["logs-rest-controller"],"operationId":"getMessages","parameters":[{"name":"method","in":"query","required":true,"schema":{"type":"string"}},{"name":"call-id-local-id","in":"query","required":true,"schema":{"type":"string"}},{"name":"branch","in":"query","required":true,"schema":{"type":"string"}},{"name":"messageType","in":"query","required":true,"schema":{"type":"string","enum":["REQUEST","RESPONSE"]}},{"name":"status","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageLog"}}}}}}}},"/control/logs/v1/invites":{"get":{"tags":["logs-rest-controller"],"operationId":"getInviteParamValues","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}},"delete":{"tags":["logs-rest-controller"],"operationId":"deleteAllInviteTimestamps","responses":{"200":{"description":"OK"}}}},"/control/logs/v1/invites/{toParamIdentifierValue}":{"get":{"tags":["logs-rest-controller"],"operationId":"getInviteTimestamps","parameters":[{"name":"toParamIdentifierValue","in":"path","required":true,"schema":{"type":"string"}},{"name":"from","in":"query","required":true,"schema":{"type":"string","format":"date-time"}},{"name":"to","in":"query","required":true,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"integer","format":"int64"}}}}}}}},"/control/call-handling/v2/subscription/{subscriptionId}/notification":{"get":{"tags":["call-handling-rest-controller"],"operationId":"getLastSubscriptionNotifications","parameters":[{"name":"subscriptionId","in":"path","required":true,"schema":{"type":"string"}},{"name":"last","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetSubscriptionNotificationResponse"}}}}}}},"/control/call-handling/v2/call":{"get":{"tags":["call-handling-rest-controller"],"operationId":"getAllCalls","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAllCallsResponse"}}}}}},"delete":{"tags":["call-handling-rest-controller"],"operationId":"deleteAllCalls","responses":{"200":{"description":"OK"}}}},"/control/call-handling/v2/call/{callId}":{"get":{"tags":["call-handling-rest-controller"],"operationId":"getCall","parameters":[{"name":"callId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetCallResponse"}}}}}},"delete":{"tags":["call-handling-rest-controller"],"operationId":"deleteCall","parameters":[{"name":"callId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/control/call-handling/v2/call/{callId}/notification":{"get":{"tags":["call-handling-rest-controller"],"operationId":"getLastCallNotifications","parameters":[{"name":"callId","in":"path","required":true,"schema":{"type":"string"}},{"name":"last","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetParticipantNotificationResponse"}}}}}}}},"components":{"schemas":{"BandwidthSingleMessageScenarioModel":{"type":"object","allOf":[{"$ref":"#/components/schemas/ProviderScenarioModel"},{"type":"object","properties":{"toNumber":{"type":"string"},"messageText":{"type":"string"},"tag":{"type":"string"}}}]},"ProviderScenarioModel":{"required":["type"],"type":"object","properties":{"type":{"type":"string"}},"discriminator":{"propertyName":"type"}},"WebSmsScenarioModel":{"type":"object","properties":{"scenarioId":{"type":"string"},"simulatorId":{"type":"string"},"creationDate":{"type":"string","format":"date-time"},"latestUpdate":{"type":"string","format":"date-time"},"scenarioState":{"type":"string","enum":["NEW","RUNNING","SUCCESS","FAILURE"]},"stateMessage":{"type":"string"},"scenarioProgression":{"type":"string","enum":["CREATED","GETTING_STRATEGY","INITIALIZING_SCENARIO_CONTROLLER","EXECUTING_SCENARIO","COMPLETED","FAILED"]},"provider":{"type":"string","enum":["BANDWIDTH_COM","NOT_SUPPORTED"]},"providerScenarioModel":{"oneOf":[{"$ref":"#/components/schemas/BandwidthSingleMessageScenarioModel"}]}}},"NetConferenceScenarioModel":{"type":"object","properties":{"scenarioId":{"type":"string"},"simulatorId":{"type":"string"},"creationDate":{"type":"string","format":"date-time"},"latestUpdate":{"type":"string","format":"date-time"},"scenarioState":{"type":"string","enum":["NEW","RUNNING","SUCCESS","FAILURE"]},"stateMessage":{"type":"string"},"scenarioProgression":{"type":"string","enum":["CREATED","CONFERENCE_INITIATION","CALLER_INVITATION","RESPONDER_INVITATION","COMPLETED","FAILED"]}}},"CreateSubscriptionRequest":{"type":"object","properties":{"conferenceId":{"type":"string"},"expires":{"type":"integer","format":"int32"}}},"CreateSubscriptionResponse":{"type":"object","properties":{"subscriptionId":{"type":"string"}}},"AddParticipantRequest":{"type":"object","properties":{"participantUri":{"type":"string"}}},"RedirectCallRequest":{"type":"object","properties":{"redirectUri":{"type":"string"}}},"CallHandlingProfile":{"type":"object","properties":{"sipEndpointId":{"type":"string"},"mediaEndpointId":{"type":"string"},"autoPickup":{"type":"boolean"},"mediaEnabled":{"type":"boolean"}}},"SendOptionsRequest":{"type":"object","properties":{"requestUri":{"type":"string"}}},"SendOptionsResponse":{"type":"object","properties":{"callIdLocalId":{"type":"string"},"branch":{"type":"string"},"fromTag":{"type":"string"}}},"UpdateSubscriptionRequest":{"type":"object","properties":{"expires":{"type":"integer","format":"int32"}}},"ScenarioModel":{"type":"object","properties":{"scenarioId":{"type":"string"},"simulatorId":{"type":"string"},"creationDate":{"type":"string","format":"date-time"},"latestUpdate":{"type":"string","format":"date-time"},"scenarioState":{"type":"string","enum":["NEW","RUNNING","SUCCESS","FAILURE"]},"stateMessage":{"type":"string"}}},"MessageLog":{"type":"object","properties":{"id":{"type":"string"},"callIdLocalId":{"type":"string"},"branch":{"type":"string"},"method":{"type":"string"},"messageType":{"type":"string","enum":["REQUEST","RESPONSE"]},"responseCode":{"type":"integer","format":"int32"},"message":{"type":"string"},"lastModifiedDate":{"type":"string","format":"date-time"},"createdTimestamp":{"type":"string","format":"date-time"}}},"CallInfo":{"type":"object","properties":{"callId":{"type":"string"},"localTag":{"type":"string"},"remoteTag":{"type":"string"}}},"ConferenceEventSubscriptionInfo":{"type":"object","properties":{"subscriptionId":{"type":"string"},"conferenceId":{"type":"string"},"state":{"type":"string"},"expires":{"type":"string"},"conferenceInfo":{"type":"string"},"callInfo":{"$ref":"#/components/schemas/CallInfo"},"lastModifiedDate":{"type":"string","format":"date-time"}}},"GetAllSubscriptionsResponse":{"type":"object","properties":{"subscriptionInfos":{"type":"array","items":{"$ref":"#/components/schemas/ConferenceEventSubscriptionInfo"}}}},"GetSubscriptionResponse":{"type":"object","properties":{"subscriptionInfo":{"$ref":"#/components/schemas/ConferenceEventSubscriptionInfo"}}},"GetSubscriptionNotificationResponse":{"type":"object","properties":{"notificationInfos":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionNotificationInfo"}}}},"SubscriptionNotificationInfo":{"type":"object","properties":{"notificationId":{"type":"string"},"subscriptionId":{"type":"string"},"conferenceInfo":{"type":"string"},"lastModifiedDate":{"type":"string","format":"date-time"},"createdDate":{"type":"string","format":"date-time"}}},"CallExtendedState":{"type":"object","properties":{"callId":{"type":"string"},"targetUri":{"type":"string"},"transportProtocol":{"type":"string"},"callInfo":{"$ref":"#/components/schemas/CallInfo"},"callStatus":{"type":"string","enum":["CREATED","RENEGOTIATING","PROCEEDING","RINGING","ACTIVE","CANCELLED","ENDING","ENDED","REDIRECTING","FAILED"]},"errorMessage":{"type":"string"},"originalInvite":{"type":"string"},"currentMediaSessionInfo":{"$ref":"#/components/schemas/MediaSessionInfo"},"previousMediaSessionInfo":{"$ref":"#/components/schemas/MediaSessionInfo"},"sipEndpointId":{"type":"string"},"callHandlingParameters":{"$ref":"#/components/schemas/CallHandlingParameters"},"lastModifiedDate":{"type":"string","format":"date-time"},"localSequenceNumber":{"type":"integer","format":"int32"},"secure":{"type":"boolean"}}},"CallHandlingParameters":{"type":"object","properties":{"autoPickup":{"type":"boolean"},"mediaEnabled":{"type":"boolean"},"mediaEndpointId":{"type":"string"}}},"GetAllCallsResponse":{"type":"object","properties":{"callExtendedStateList":{"type":"array","items":{"$ref":"#/components/schemas/CallExtendedState"}}}},"MediaSessionInfo":{"type":"object","properties":{"id":{"type":"string"},"mediaEndpointInstanceId":{"type":"string"},"rtpElementId":{"type":"string"},"sdpOffer":{"type":"string"},"sdpAnswer":{"type":"string"}}},"GetCallResponse":{"type":"object","properties":{"callExtendedState":{"$ref":"#/components/schemas/CallExtendedState"}}},"GetParticipantNotificationResponse":{"type":"object","properties":{"notificationInfos":{"type":"array","items":{"$ref":"#/components/schemas/ParticipantNotificationInfo"}}}},"ParticipantNotificationInfo":{"type":"object","properties":{"notificationId":{"type":"string"},"callId":{"type":"string"},"sipFrag":{"type":"string"},"lastModifiedDate":{"type":"string","format":"date-time"},"createdDate":{"type":"string","format":"date-time"}}},"RemoveParticipantRequest":{"type":"object","properties":{"participantUri":{"type":"string"}}}}}}